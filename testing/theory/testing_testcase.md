# 测试用例
### 概念
* 软件测试用例是描述测试过程具体步骤的文档，包括测试的输入参数、条件、配置、预期输出结果等，并以此来判断被测软件的各模块是否正常工作。
* 测试用例需要更新和维护，是一个不断修改的过程
* 测试用例需要正式的评审
* 测试用例覆盖的系统程度决定测试的覆盖程度

### 用例常见的组成元素
1. 用例编号
2. 测试项目（具体到模块）
3. 测试标题
4. 重要级别（优先级）
   1. 高（功能性验证）
   2. 中（错误和边界值）
   3. 低（非功能性的测试）
5. 预置条件
6. 操作步骤 
   * 一般不要超过7步骤
   * 能让普通人员都能看懂
7. 期望结果
8. 测试结果
### 测试用例的好处
* 防止漏测
  * 使软件测试的实施重点突出、目的明确、确保需求功能不能被遗漏
* 版本重复测试
  * 快速正确的进行版本重复测试
* 监督过程
  * 可以准确、有效评估测试工作量
* 评估结果
  * 对产品进行评估、对测试完成情况进行评价
* 提高效率
  * 避免盲目测试
* 缩短周期
  * 版本更新和升级时，只需修正少部分测试用例，资源复用
### 测试用例设计方法
* 编写用例的方法，就是使用更合理的数据，在最少测试成本下，尽可能的降低风险。所以如果时间允许，或者对某些数据有争议，可以把它就作为用例。
1. 等价类划分
   1. 应用场合
      * **只要有数据输入的地方，就可以使用**。从无限多的数据中选取具有代表的数据进行测试。
   2. 核心概念
      1. 有效等价类【测试正常结果】
          * 对程序规格有意义、合理的输入数据集合，程序收到有效等价类数据，可以正确执行、计算。
      2. 无效等价类【有错误提示】
          * 对程序规格无意义、不合理的输入数据集合，程序接收到无效等价类数据，应该给出错误提示，或者根本不让用户数据。
   3. 等价类划分的步骤
      1. 划分等价类
      2. 细化等价类的划分（例如：数据在计算机中采用补码存储，而正数和负数的补码计算公式不同，所以需要把正负数单独进行测试）
      3. 建立等价类表
      4. 编写测试用例
   4. 等价类划分法特点：
      * 每一类的代表性数据（也就是被选为测试用例的数据），在测试中的作用等价于这一类中其他值
      * 如果等价类中的一个测试能够捕获一个缺陷，那么选择该等价类中的其他测试也能够捕获该缺陷
      * 如果等价类中的一个测试不能捕获缺陷，那么选择该等价类中的其他测试也不会捕获缺陷
2. 边界值分析法
   1. 应用场合
      * 只要有数据的输入的地方，有效和无效数据的分界点，需要单独拿出来测试。
      * 边界值一般和等价类方法一起应用，找到有效无效数据的分界点（最大值和最小值）及两边的点的进行测试，形成一套完整的测试方案。
      * 把边界值的点单独写用例（通常是三个点，边界值点以及两侧的点）
   2. 内点、上点、离点
      * 内点：即为有效等价类中任意一点
      * 上点：临界点
      * 离点：无效等价类中离上点最近的点
      * demo
        ```
         [90-100]
         内点：90-100之间任意一个
         上点：90、100
         离点：89、101

         （90-100）
         内点：91-99
         上点：91、99
         离点：90、100

        ```

   3. 用例的优化
      * 对于不同控件的有效等价类以及有效边界值，可以尽可能在一条用例中进行测试--不同控件的有效等价类（及边界）可以组合【减少用例数量】。
      * 在一条用例中，先一次只测试一个控件的无效等价类--无效等价类在开始时候不能组合。---避免“屏蔽”现象发生（前面控件的错误提示一出现，后面空间的错误提示就不出现了）
      * 最后，可以适当考虑无效等价类的组合---验证软件处理极端数据的能力。
3. 因果图
   1. 应用场合
      * 在一个界面中，有多个控件，在测试的时候要考虑控件的组合关系，不同的控件组合会产生不同的输出结果的组合，为了弄清楚什么样的输入组合会产生什么样的的组合，用因果图。【输入的不同组合】
      * 每个控件取值最好只有2个或3个，太多则不适用于使用该方法。比如包含两三项的按钮、复选框、下拉列表。值太多，使用正交排列法。

   2. 核心要点
      * 因：输入条件
      * 果：结果，输出结果。
   3. 图形符号
      * 用图形的方式，来分析输入和输出的对应关系。
      1. 基本图形
         1. 恒等
         2. 非（~）
         3. 或（V）
         4. 与（^）
      2. 约束（限制条件）图形
         * 要么限制输入，要么限制输出
         1. 互斥（E）
		    * 最多有一个成立
         2. 包含(I) 
		    * 至少有一个成立
		 3. 唯一（O）	
            * 唯一情况是有一个默认值，而互斥没有默认值。
         4. 要求（R）
		    * a出现，b必须出现
		 5. 屏蔽（M）
		    * 当a出现时，b就不能出现。
4. 判定表
   * 判定表实际就是因果图的简略，省略了因果图的步骤。根据因果图，画出判定表
   1. 判定表的组成
      * 条件桩：问题的所有条件
      * 动作桩：问题的所有输出
      * 条件项：针对条件状的取值
      * 动作项：条件项的各项取值情况下的输出结果
   2. 适合使用判定表设计测试用例的条件：
      * 规格说明以判定表的形式给出，或者容易转换
      * 条件的排列顺序不影响执行哪些操作
      * 规则的排列顺序不影响执行哪些操作
      * 某一规则的条件满足，并确定要执行的操作后，不必检验别的规则
      * 如果某一规则要执行多个操作，这些操作的执行顺序无关紧要
5. 正交试验法
   1. 应用场合【使用最小测试过程集合获得最大测试覆盖率】
      * 在一个界面中，有多个控件，每个控件有多个取值，控件取值的组合数量很大，不可能（也没有必要）为每一个组合编写一条用例，为了使用最少最优的组合进行测试
   2. 选择表
      * 因素是幂，状态是底
      * 如果没有符合的表
        1. 【少数服从多数】选择最多的状态，作为底。修改表
        2. 【哪个控件取值最多数】，选择最接近的表，修改表
6. 状态迁移法
7. 错误推测法
8. 场景法
   * 模拟用户操作软件的场景，用于测试系统的业务流程。
   1. 应用场合
      * 界面特点：没有太多填写项，主要通过鼠标的点击、双击、拖拽等完成操作。（如下五子棋）
      * 把自己当做最终的用户，在使用该软件的时候可能会遇到哪些情形（场景）。主要测试主要的业务流程、主要功能的正确性和主要错误的处理能力。

   2. 核心概念
      * 基本流（正确流）
        * 模拟用户的正确操作流程--验证业务流程和主要功能
      * 备选流（错误流）
        * 模拟用户的错误操作流程--验证错误的处理能力

   3. 总结：
      * 场景法是基于等价类划分的一种测试方法（技术层面）
      * 场景法的应用是基于软件业务（需求）的深入理解。

