# 性能测试
### 实施阶段
* 一般而言，只有在系统基础功能测试验证完成、系统趋于稳定的情况下，才会进行性能测试，否则性能测试是无意义的。

### 目的
* 功能测试是能不能用，性能测试是好不好用，通过一些技术手段去模拟真实场景，采集数据来验证是否好用

### 性能测试的手段
1. 基于代码级接口+多线程直接操作代码（适用于开发，单元测试之类的）
2. 基于协议级接口+多线程直接对服务器操作（主要方式!可以使用自己擅长的语言调用协议（http、websocket）请求来操作）
3. 客户端的资源占用情况，例如应用程序对终端机资源消耗：cpu、内存、电量等

### 性能测试核心
1. 基于协议级接口
2. 多线程（模拟大量用户）。通常一台电脑能够同时运行的线程数为500~2000个（主要与cpu有关、其次内存、硬盘、带宽等），如果要模拟大量用户实际上需要多台电脑协同完成
3. 真实场景（前两点为技术手段，这个需要依靠对系统业务的理解和对性能测试经验积累才能完成）

### 瓶颈
* 硬环境：带宽、CPU、硬盘、内存；软环境：服务器的内存使用率，代码算法优化

### 注意事项
* 不能让负载机和被测服务器以及数据库放在同一台电脑上，这样测试的数据没有意义

### 性能脚本调试过程
1. 单用户，单循环：调试基本用能
2. 单用户，多循环：调试一些数据重复的场景
3. 多用户，单循环：调试多线程并发
4. 多用户，多循环：模拟用户场景的实际情况
